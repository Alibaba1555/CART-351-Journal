<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tianshun's Coding Journal</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    height: auto; 
    min-height: 100%;
    overflow-x: hidden;
    background: #0f111a;
    color: #d1d5db;
    font-family: 'Courier New', monospace;
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 0;
  }

  header {
    position: relative;
    text-align: center;
    padding: 30px 0;
    border-bottom: 1px solid #1f2937;
    z-index: 2;
  }

  header h1 {
    color: #00ffff;
    text-shadow: 0 0 10px #00ffff;
    letter-spacing: 2px;
    margin-bottom: 10px;
  }

  .entry {
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 60px auto;
    padding: 25px;
    background: rgba(17, 24, 39, 0.85);
    border: 1px solid #1f2937;
    border-radius: 10px;
    box-shadow: 0 0 15px #00ffff33;
    backdrop-filter: blur(6px);
    opacity: 0;
    transform: translateY(20px);
    animation: fadeIn 1s forwards;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .date {
    color: #60a5fa;
    font-size: 0.9em;
    margin-bottom: 8px;
  }

  .title {
    color: #93c5fd;
    font-size: 1.4em;
    margin-bottom: 15px;
  }

  .content {
    line-height: 1.7em;
    white-space: pre-line;
    font-size: 1em;
  }

  footer {
    position: relative;
    text-align: center;
    color: #6b7280;
    padding: 20px;
    border-top: 1px solid #1f2937;
    z-index: 2;
  }

  /* typing animation */
  .typing {
    border-right: .1em solid #00ffff;
    animation: typing 3s steps(30, end), blink-caret 0.75s step-end infinite;
    overflow: hidden;
    white-space: nowrap;
    display: inline-block;
  }

  @keyframes typing {
    from { width: 0 }
    to { width: 100% }
  }

  @keyframes blink-caret {
    from, to { border-color: transparent }
    50% { border-color: #00ffff; }
  }

  /* AQI input + button */
  .aqi-box {
    margin-top: 20px;
    padding: 15px;
    border: 1px solid #00ffff55;
    border-radius: 8px;
    text-align: center;
    background: rgba(0,0,0,0.3);
  }

  input {
    background: transparent;
    border: 1px solid #00ffff;
    color: #00ffff;
    padding: 6px 10px;
    border-radius: 5px;
    font-family: 'Courier New', monospace;
    outline: none;
    width: 160px;
  }

  button {
    background: #00ffff22;
    border: 1px solid #00ffff;
    color: #00ffff;
    margin-left: 5px;
    padding: 6px 12px;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s;
  }

  button:hover {
    background: #00ffff55;
  }

  #aqiResult {
    margin-top: 10px;
    font-size: 1em;
    color: #93c5fd;
  }
</style>
</head>
<body>

<canvas id="particles"></canvas>

<header>
  <h1 class="typing">Tianshun's 351 Journal</h1>
</header>

<section class="entry">
  <div class="date">üóì October 8, 2025</div>
  <div class="title">Reflections on Project 1: AIR QUEST</div>
  <div class="content">
This week, I finished building my first Python terminal app: AIR QUEST.  
The idea started from curiosity ‚Äî I wanted to make air quality data feel more alive, not just numbers.

By using the [requests] library, I could connect directly to the World Air Quality API.  
[Rich] and [PyFiglet] added a playful and artistic layer ‚Äî colors, ASCII banners, progress bars ‚Äî all inside the terminal.  
It felt like designing a mini interactive world in text form.

The most exciting part was turning something environmental and scientific into something expressive.  
Watching the AQI bar grow, seeing emojis change with the air quality ‚Äî it gave personality to data.  
Even though it runs entirely in the console, it feels emotional, like a digital creature breathing city air.

Below is a small web version of my AIR QUEST ‚Äî you can enter any city to see real-time air quality:
  </div>

  <!-- API  -->
  <div class="aqi-box">
    <input type="text" id="city" placeholder="Enter city (e.g. Montreal)">
    <button onclick="fetchAQI()">Check Air</button>
    <div id="aqiResult">üåç Waiting for input...</div>
  </div>
</section>

<footer>
  ¬© 2025 Tianshun Wu ‚Äî Computation Arts  CART 351 Journal
</footer>

<script>
/* üå´ background animation */
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
let particlesArray = [];
const numParticles = 80;

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

class Particle {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height;
    this.size = Math.random() * 2 + 1;
    this.speedX = Math.random() * 0.6 - 0.3;
    this.speedY = Math.random() * 0.6 - 0.3;
    this.alpha = Math.random() * 0.5 + 0.3;
  }
  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
    if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
  }
  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(0,255,255,${this.alpha})`;
    ctx.fill();
  }
}

function init() {
  particlesArray = [];
  for (let i = 0; i < numParticles; i++) {
    particlesArray.push(new Particle());
  }
}

function connectParticles() {
  for (let a = 0; a < particlesArray.length; a++) {
    for (let b = a; b < particlesArray.length; b++) {
      const dx = particlesArray[a].x - particlesArray[b].x;
      const dy = particlesArray[a].y - particlesArray[b].y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      if (distance < 100) {
        ctx.strokeStyle = `rgba(0,255,255,0.05)`;
        ctx.lineWidth = 0.5;
        ctx.beginPath();
        ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
        ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
        ctx.stroke();
      }
    }
  }
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particlesArray.forEach(p => {
    p.update();
    p.draw();
  });
  connectParticles();
  requestAnimationFrame(animate);
}
init();
animate();

/* üåç AQI search */
async function fetchAQI() {
  const city = document.getElementById("city").value || "Montreal";
  const resultBox = document.getElementById("aqiResult");
  resultBox.innerText = `üå´ Fetching air data for ${city}...`;

  try {
    const token = "0fef46e2cdafa6e579599bc56588fdf44a90e448";
    const res = await fetch(`https://api.waqi.info/search/?token=${token}&keyword=${city}`);
    const data = await res.json();

    if (data.status === "ok" && data.data.length > 0) {
      const aqi = parseInt(data.data[0].aqi);
      const station = data.data[0].station.name;

      let mood, color;
      if (aqi < 50) { mood = "üåø Good"; color = "#00ffcc"; }
      else if (aqi < 100) { mood = "üå§ Moderate"; color = "#ffff66"; }
      else if (aqi < 150) { mood = "üò∑ Unhealthy"; color = "#ff9933"; }
      else { mood = "üíÄ Hazardous"; color = "#ff3333"; }

      resultBox.innerHTML = 
        `üìç <b>${station}</b><br>` +
        `AQI: <b style="color:${color}">${aqi}</b> ‚Äî ${mood}`;
    } else {
      resultBox.innerText = "‚ùå City not found.";
    }
  } catch (err) {
    resultBox.innerText = "‚ö†Ô∏è Failed to fetch data.";
  }
}
</script>

</body>
</html>
